---
description:
globs:
alwaysApply: true
---
# 00. é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº**Taro 3.x + React + TypeScript**çš„ç°ä»£åŒ–è·¨ç«¯å¼€å‘æ¨¡æ¿ï¼Œé‡‡ç”¨**åŒç›®å½•æ¶æ„**è®¾è®¡ã€‚

è¯¥é¡¹ç›®éµå¾ª Taro å®˜æ–¹å¼€å‘è§„èŒƒï¼Œæ”¯æŒå°ç¨‹åºã€H5ã€APPå¤šç«¯å¼€å‘ï¼Œå¹¶é›†æˆäº†ç°ä»£åŒ–çš„å¼€å‘å·¥å…·é“¾ã€‚

## ğŸ—ï¸ åŒç›®å½•æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨**å…³æ³¨ç‚¹åˆ†ç¦»**æ¶æ„ï¼š
- **ä¸»ç›®å½•**: Cursorå¼€å‘ç¯å¢ƒï¼Œæºä»£ç åœ¨ `src/` ç›®å½•
- **miniprogramç›®å½•**: ç¼–è¯‘è¾“å‡ºç›®å½•ï¼Œä¾›å¾®ä¿¡å¼€å‘è€…å·¥å…·ä½¿ç”¨

## å…³é”®é…ç½®æ–‡ä»¶ä¸å…¥å£

*   **é¡¹ç›®ä¾èµ–ä¸è„šæœ¬**: @package.json
*   **åº”ç”¨å…¨å±€é…ç½®**: @src/app.config.ts
*   **é¡¹ç›®æ„å»ºé…ç½®**: @config/index.js
*   **TypeScripté…ç½®**: @tsconfig.json
*   **åº”ç”¨ä¸»å…¥å£**: @src/app.tsx

## é¡¹ç›®ç»“æ„

```
YourProject/                      # ä¸»é¡¹ç›®ç›®å½• (Cursorå¼€å‘ç¯å¢ƒ)
â”œâ”€â”€ .cursor/                      # Cursoré…ç½®å’Œæ–‡æ¡£
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½• â­
â”‚   â”œâ”€â”€ app.tsx                   # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ app.config.ts             # å…¨å±€é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ app.scss                  # å…¨å±€æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ pages/                    # é¡µé¢ç›®å½•
â”‚   â”‚   â””â”€â”€ index/
â”‚   â”‚       â”œâ”€â”€ index.tsx         # é¡µé¢ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ index.config.ts   # é¡µé¢é…ç½®
â”‚   â”‚       â””â”€â”€ index.scss        # é¡µé¢æ ·å¼
â”‚   â”œâ”€â”€ components/               # è‡ªå®šä¹‰ç»„ä»¶
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ auth.ts              # è®¤è¯å·¥å…·
â”‚   â”‚   â”œâ”€â”€ loading.ts           # åŠ è½½å·¥å…·
â”‚   â”‚   â”œâ”€â”€ request.ts           # ç½‘ç»œè¯·æ±‚
â”‚   â”‚   â””â”€â”€ storage.ts           # å­˜å‚¨å·¥å…·
â”‚   â”œâ”€â”€ assets/                   # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/              # å›¾ç‰‡èµ„æº
â”‚   â”‚   â””â”€â”€ icons/               # å›¾æ ‡èµ„æº
â”‚   â””â”€â”€ types/                    # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ config/                       # æ„å»ºé…ç½®
â”œâ”€â”€ scripts/                      # è¾…åŠ©è„šæœ¬
â”œâ”€â”€ test/                         # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ package.json                  # ä¾èµ–ç®¡ç†
â”œâ”€â”€ tsconfig.json                 # TypeScripté…ç½®
â””â”€â”€ miniprogram/                  # ç¼–è¯‘è¾“å‡ºç›®å½•
    â”œâ”€â”€ app.js                    # ç¼–è¯‘åçš„åº”ç”¨å…¥å£
    â”œâ”€â”€ app.json                  # åº”ç”¨é…ç½®
    â”œâ”€â”€ app.wxss                  # å…¨å±€æ ·å¼
    â”œâ”€â”€ pages/                    # ç¼–è¯‘åçš„é¡µé¢
    â”œâ”€â”€ project.config.json       # å¾®ä¿¡å¼€å‘è€…å·¥å…·é…ç½®
    â””â”€â”€ sitemap.json              # æœç´¢é…ç½®
```

## æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Taro 3.6.21 + React 18.0.0
- **è¯­è¨€**: TypeScript 5.0.4
- **æ ·å¼**: SCSS + PostCSS
- **æ„å»ºå·¥å…·**: Webpack 5
- **çŠ¶æ€ç®¡ç†**: Zustand (è½»é‡çº§)
- **ä»£ç è§„èŒƒ**: ESLint + Prettier

## å¼€å‘å·¥å…·åˆ†å·¥

### Cursor (ä¸»ç›®å½•)
- ä»£ç ç¼–è¾‘å’Œé¡¹ç›®ç®¡ç† (åœ¨ `src/` ç›®å½•ä¸‹)
- è¿è¡Œ Taro æ„å»ºå‘½ä»¤
- ç‰ˆæœ¬æ§åˆ¶æ“ä½œ
- æ–‡æ¡£ç¼–å†™

### å¾®ä¿¡å¼€å‘è€…å·¥å…· (miniprogramç›®å½•)
- å°ç¨‹åºè°ƒè¯•å’Œé¢„è§ˆ
- çœŸæœºæµ‹è¯•
- ä»£ç ä¸Šä¼ å‘å¸ƒ

## æ ¸å¿ƒå¼€å‘è¦ç‚¹

### Reactå‡½æ•°ç»„ä»¶
```tsx
// src/pages/example/index.tsx
import { useState, useEffect } from 'react'
import { View, Text, Button } from '@tarojs/components'
import Taro from '@tarojs/taro'

export default function Example() {
  const [message, setMessage] = useState('Hello Taro + React')

  useEffect(() => {
    console.log('é¡µé¢åŠ è½½å®Œæˆ')
  }, [])

  return (
    <View className="container">
      <Text>{message}</Text>
    </View>
  )
}
```

### APIè°ƒç”¨
```typescript
import Taro from '@tarojs/taro'
import { request } from '@/utils/request'

// ä½¿ç”¨Taro API
Taro.request({
  url: 'https://api.example.com',
  success: (res) => console.log(res.data)
})

// ä½¿ç”¨å°è£…çš„è¯·æ±‚å·¥å…·
const userData = await request.get('/api/user')
```

### ç»„ä»¶åŒ–å¼€å‘
```tsx
// src/components/user-card/index.tsx
import { View, Text } from '@tarojs/components'

interface UserCardProps {
  user: {
    name: string
    avatar: string
  }
  onTap?: () => void
}

export default function UserCard({ user, onTap }: UserCardProps) {
  return (
    <View className="user-card" onClick={onTap}>
      <Text>{user.name}</Text>
    </View>
  )
}
```

### é¡µé¢é…ç½®
```typescript
// src/pages/example/index.config.ts
import { PageConfig } from '@tarojs/taro'

const config: PageConfig = {
  navigationBarTitleText: 'ç¤ºä¾‹é¡µé¢',
  enablePullDownRefresh: true,
  backgroundColor: '#f5f5f5'
}

export default config
```

## å¼€å‘æµç¨‹

1. **å¼€å‘**: åœ¨ `src/` ç›®å½•ä¸‹ç¼–å†™ TypeScript + React ä»£ç 
2. **ç¼–è¯‘**: è¿è¡Œ `pnpm run dev:weapp` è‡ªåŠ¨ç¼–è¯‘åˆ° `miniprogram/`
3. **è°ƒè¯•**: å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ `miniprogram/` ç›®å½•è¿›è¡Œè°ƒè¯•
4. **å‘å¸ƒ**: æ„å»ºç”Ÿäº§ç‰ˆæœ¬å¹¶ä¸Šä¼ åˆ°å¾®ä¿¡å¹³å°
