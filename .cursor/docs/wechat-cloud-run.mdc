# å¾®ä¿¡äº‘æ‰˜ç®¡ (WeChat Cloud Run) å®Œæ•´çŸ¥è¯†åº“

> **ç‰ˆæœ¬**: åŸºäºå¾®ä¿¡äº‘æ‰˜ç®¡æœ€æ–°ç‰ˆæœ¬æ•´ç†
> **æ›´æ–°æ—¥æœŸ**: 2025å¹´1æœˆ
> **é€‚ç”¨èŒƒå›´**: å°ç¨‹åºåç«¯å¼€å‘ã€å¾®ä¿¡ç”Ÿæ€åº”ç”¨ã€äº‘åŸç”Ÿå®¹å™¨æœåŠ¡

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
- [å…³é”®ä¼˜åŠ¿](#å…³é”®ä¼˜åŠ¿)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [å¾®ä¿¡ç”Ÿæ€é›†æˆ](#å¾®ä¿¡ç”Ÿæ€é›†æˆ)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ•°æ®åº“ä¸å­˜å‚¨](#æ•°æ®åº“ä¸å­˜å‚¨)
- [è°ƒè¯•ä¸ç›‘æ§](#è°ƒè¯•ä¸ç›‘æ§)
- [éƒ¨ç½²ä¸ç‰ˆæœ¬ç®¡ç†](#éƒ¨ç½²ä¸ç‰ˆæœ¬ç®¡ç†)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## æ¦‚è¿°

### ä»€ä¹ˆæ˜¯å¾®ä¿¡äº‘æ‰˜ç®¡

å¾®ä¿¡äº‘æ‰˜ç®¡(WeChat Cloud Run)æ˜¯å¾®ä¿¡äº‘å¼€å‘æä¾›çš„æ–°ä¸€ä»£äº‘åŸç”Ÿåº”ç”¨å¼•æ“(App Engine 2.0)ï¼Œæ”¯æŒæ‰˜ç®¡ç”¨ä»»æ„è¯­è¨€å’Œæ¡†æ¶ç¼–å†™çš„å®¹å™¨åŒ–åº”ç”¨ã€‚å®ƒä¸äº‘å¼€å‘å…¶ä»–äº§å“(äº‘å‡½æ•°ã€äº‘æ•°æ®åº“ã€äº‘å­˜å‚¨ç­‰)ä¸€èµ·ä¸ºç”¨æˆ·æä¾›äº‘åŸç”Ÿä¸€ä½“åŒ–å¼€å‘ç¯å¢ƒã€‚

### äº§å“å®šä½

- **äº‘åŸç”Ÿå®¹å™¨æœåŠ¡**: åŸºäºå®¹å™¨æŠ€æœ¯çš„ç°ä»£åŒ–åº”ç”¨æ‰˜ç®¡å¹³å°
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒNode.jsã€Pythonã€Javaã€PHPã€Goã€C#ç­‰ä¸»æµè¯­è¨€
- **å¾®ä¿¡ç”Ÿæ€æ·±åº¦é›†æˆ**: å¤©ç„¶æ”¯æŒå¾®ä¿¡ç”¨æˆ·é‰´æƒå’Œå¾®ä¿¡APIè°ƒç”¨
- **å…è¿ç»´**: æ— éœ€å…³å¿ƒæœåŠ¡å™¨ç®¡ç†ï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘å¼€å‘

### ä¸äº‘å‡½æ•°çš„å¯¹æ¯”

| ç‰¹æ€§ | äº‘æ‰˜ç®¡ Cloud Run | äº‘å‡½æ•° Cloud Function |
|------|------------------|----------------------|
| **è¿è¡Œç¯å¢ƒ** | å®¹å™¨åŒ–ï¼Œæ”¯æŒä»»æ„è¯­è¨€æ¡†æ¶ | å‡½æ•°è¿è¡Œæ—¶ï¼Œè¯­è¨€å—é™ |
| **å¯åŠ¨æ—¶é—´** | å†·å¯åŠ¨è¾ƒæ…¢ï¼Œä½†æ”¯æŒé¢„çƒ­ | å†·å¯åŠ¨å¿« |
| **è¿è¡Œæ—¶é•¿** | æ”¯æŒé•¿æ—¶é—´è¿è¡Œ | å•æ¬¡æ‰§è¡Œæ—¶é—´æœ‰é™åˆ¶ |
| **èµ„æºé…ç½®** | çµæ´»é…ç½®CPU/å†…å­˜ | å›ºå®šèµ„æºè§„æ ¼ |
| **é€‚ç”¨åœºæ™¯** | å¤æ‚åº”ç”¨ã€WebæœåŠ¡ã€APIç½‘å…³ | ç®€å•é€»è¾‘ã€äº‹ä»¶è§¦å‘ |

---

## æ ¸å¿ƒæ¦‚å¿µ

### æœåŠ¡ (Service)

#### å®šä¹‰
æœåŠ¡æ˜¯äº‘æ‰˜ç®¡çš„åŸºæœ¬éƒ¨ç½²å•å…ƒï¼Œä¸€ä¸ªæœåŠ¡å¯¹åº”ä¸€ä¸ªå®¹å™¨åŒ–åº”ç”¨ã€‚

#### ç‰¹æ€§
- **ç‹¬ç«‹éƒ¨ç½²**: æ¯ä¸ªæœåŠ¡ç‹¬ç«‹éƒ¨ç½²å’Œè¿è¡Œ
- **ç‰ˆæœ¬ç®¡ç†**: æ”¯æŒå¤šç‰ˆæœ¬å¹¶å­˜
- **æµé‡åˆ†é…**: æ”¯æŒç°åº¦å‘å¸ƒå’ŒA/Bæµ‹è¯•
- **è‡ªåŠ¨æ‰©ç¼©å®¹**: æ ¹æ®è´Ÿè½½è‡ªåŠ¨è°ƒæ•´å®ä¾‹æ•°é‡

### ç‰ˆæœ¬ (Version)

#### ç‰ˆæœ¬æ¦‚å¿µ
- æ¯æ¬¡ä»£ç æ›´æ–°éƒ½ä¼šåˆ›å»ºæ–°ç‰ˆæœ¬
- ç‰ˆæœ¬ä¸å¯å˜ï¼Œç¡®ä¿éƒ¨ç½²ä¸€è‡´æ€§
- æ”¯æŒç‰ˆæœ¬å›æ»šå’Œç‰ˆæœ¬é—´æµé‡åˆ‡æ¢

#### ç‰ˆæœ¬çŠ¶æ€
- **è¿è¡Œä¸­**: æ­£åœ¨æœåŠ¡æµé‡çš„ç‰ˆæœ¬
- **å·²åœæ­¢**: ä¸å†æ¥æ”¶æµé‡çš„ç‰ˆæœ¬
- **éƒ¨ç½²ä¸­**: æ­£åœ¨éƒ¨ç½²çš„ç‰ˆæœ¬

### å®ä¾‹ (Instance)

#### å®ä¾‹ç®¡ç†
- **è‡ªåŠ¨æ‰©ç¼©å®¹**: æ ¹æ®CPUã€å†…å­˜ã€å¹¶å‘è¯·æ±‚æ•°è‡ªåŠ¨è°ƒæ•´
- **æœ€å°å®ä¾‹æ•°**: ä¿è¯æœåŠ¡å¯ç”¨æ€§çš„æœ€å°å®ä¾‹æ•°
- **æœ€å¤§å®ä¾‹æ•°**: æ§åˆ¶æˆæœ¬çš„æœ€å¤§å®ä¾‹æ•°é™åˆ¶
- **ç¼©å®¹åˆ°é›¶**: æ— æµé‡æ—¶å¯ä»¥ç¼©å®¹åˆ°0å®ä¾‹èŠ‚çœæˆæœ¬

---

## å…³é”®ä¼˜åŠ¿

### å…è¿ç»´ (Ops-Free)

#### åŸºç¡€è®¾æ–½ç®¡ç†
- **æœåŠ¡å™¨ç®¡ç†**: æ— éœ€è´­ä¹°å’Œç®¡ç†æœåŠ¡å™¨
- **æ“ä½œç³»ç»Ÿç»´æŠ¤**: è‡ªåŠ¨å¤„ç†ç³»ç»Ÿæ›´æ–°å’Œå®‰å…¨è¡¥ä¸
- **è´Ÿè½½å‡è¡¡**: è‡ªåŠ¨é…ç½®å’Œç®¡ç†è´Ÿè½½å‡è¡¡å™¨
- **SSLè¯ä¹¦**: è‡ªåŠ¨ç”³è¯·å’Œç»­æœŸSSLè¯ä¹¦

#### ç›‘æ§å‘Šè­¦
- **å¥åº·æ£€æŸ¥**: è‡ªåŠ¨ç›‘æ§æœåŠ¡å¥åº·çŠ¶æ€
- **å¼‚å¸¸æ¢å¤**: è‡ªåŠ¨é‡å¯å¼‚å¸¸å®ä¾‹
- **æ€§èƒ½ç›‘æ§**: æä¾›è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡å’Œå‘Šè­¦

### è‡ªåŠ¨æ‰©ç¼©å®¹ (Auto-Scaling)

#### æ‰©ç¼©å®¹ç­–ç•¥
```yaml
# æ‰©ç¼©å®¹é…ç½®ç¤ºä¾‹
scaling:
  minInstances: 0      # æœ€å°å®ä¾‹æ•°
  maxInstances: 10     # æœ€å¤§å®ä¾‹æ•°
  targetConcurrency: 100  # ç›®æ ‡å¹¶å‘æ•°
  scaleUpRate: 2       # æ‰©å®¹é€Ÿç‡
  scaleDownRate: 0.5   # ç¼©å®¹é€Ÿç‡
```

#### è§¦å‘æ¡ä»¶
- **CPUä½¿ç”¨ç‡**: åŸºäºCPUè´Ÿè½½è‡ªåŠ¨æ‰©ç¼©å®¹
- **å†…å­˜ä½¿ç”¨ç‡**: åŸºäºå†…å­˜ä½¿ç”¨æƒ…å†µè°ƒæ•´
- **å¹¶å‘è¯·æ±‚æ•°**: æ ¹æ®å¹¶å‘è¯·æ±‚é‡åŠ¨æ€è°ƒæ•´
- **è‡ªå®šä¹‰æŒ‡æ ‡**: æ”¯æŒåŸºäºä¸šåŠ¡æŒ‡æ ‡æ‰©ç¼©å®¹

### æˆæœ¬ä¼˜åŒ–

#### æŒ‰éœ€ä»˜è´¹
- **æŒ‰å®é™…ä½¿ç”¨ä»˜è´¹**: åªä¸ºå®é™…æ¶ˆè€—çš„èµ„æºä»˜è´¹
- **ç¼©å®¹åˆ°é›¶**: æ— æµé‡æ—¶è‡ªåŠ¨ç¼©å®¹åˆ°0å®ä¾‹
- **èµ„æºå…±äº«**: å¤šä¸ªæœåŠ¡å¯ä»¥å…±äº«åº•å±‚èµ„æº

#### æˆæœ¬æ§åˆ¶
- **èµ„æºé™åˆ¶**: è®¾ç½®CPUå’Œå†…å­˜ä¸Šé™
- **å®ä¾‹æ•°é™åˆ¶**: æ§åˆ¶æœ€å¤§å®ä¾‹æ•°é˜²æ­¢æ„å¤–æ‰©å®¹
- **é¢„ç®—å‘Šè­¦**: è®¾ç½®æˆæœ¬é¢„ç®—å’Œå‘Šè­¦é˜ˆå€¼

---

## æ ¸å¿ƒåŠŸèƒ½

### æµé‡ç®¡ç†

#### ç°åº¦å‘å¸ƒ (Gray Release)
```javascript
// æµé‡åˆ†é…é…ç½®
const trafficConfig = {
  versions: [
    { version: 'v1', traffic: 80 },  // 80%æµé‡åˆ°v1
    { version: 'v2', traffic: 20 }   // 20%æµé‡åˆ°v2
  ]
};
```

#### è“ç»¿éƒ¨ç½²
- **é›¶åœæœºéƒ¨ç½²**: æ–°ç‰ˆæœ¬å°±ç»ªååˆ‡æ¢æµé‡
- **å¿«é€Ÿå›æ»š**: å‡ºç°é—®é¢˜æ—¶å¿«é€Ÿåˆ‡æ¢å›æ—§ç‰ˆæœ¬
- **å¥åº·æ£€æŸ¥**: éƒ¨ç½²å‰è‡ªåŠ¨éªŒè¯æ–°ç‰ˆæœ¬å¥åº·çŠ¶æ€

### æ—¥å¿—ä¸ç›‘æ§

#### æ—¥å¿—ç®¡ç†
```javascript
// åº”ç”¨æ—¥å¿—ç¤ºä¾‹
console.log('ä¸šåŠ¡æ—¥å¿—ä¿¡æ¯');
console.error('é”™è¯¯æ—¥å¿—ä¿¡æ¯');

// ç»“æ„åŒ–æ—¥å¿—
const log = {
  level: 'info',
  message: 'ç”¨æˆ·ç™»å½•',
  userId: '123456',
  timestamp: new Date().toISOString()
};
console.log(JSON.stringify(log));
```

#### ç›‘æ§æŒ‡æ ‡
- **è¯·æ±‚é‡**: QPSã€æ€»è¯·æ±‚æ•°
- **å“åº”æ—¶é—´**: å¹³å‡å“åº”æ—¶é—´ã€P99å“åº”æ—¶é—´
- **é”™è¯¯ç‡**: 4xxã€5xxé”™è¯¯ç»Ÿè®¡
- **èµ„æºä½¿ç”¨**: CPUã€å†…å­˜ã€ç½‘ç»œä½¿ç”¨æƒ…å†µ

### å®‰å…¨ç‰¹æ€§

#### ç½‘ç»œå®‰å…¨
- **VPCéš”ç¦»**: æœåŠ¡è¿è¡Œåœ¨ç‹¬ç«‹çš„VPCç¯å¢ƒä¸­
- **HTTPSå¼ºåˆ¶**: è‡ªåŠ¨é…ç½®HTTPSè®¿é—®
- **è®¿é—®æ§åˆ¶**: æ”¯æŒIPç™½åå•å’Œè®¿é—®é¢‘ç‡é™åˆ¶

#### æ•°æ®å®‰å…¨
- **ä¼ è¾“åŠ å¯†**: æ‰€æœ‰æ•°æ®ä¼ è¾“ä½¿ç”¨TLSåŠ å¯†
- **å­˜å‚¨åŠ å¯†**: æ•æ„Ÿæ•°æ®å­˜å‚¨åŠ å¯†
- **å¯†é’¥ç®¡ç†**: é›†æˆå¯†é’¥ç®¡ç†æœåŠ¡

---

## å¾®ä¿¡ç”Ÿæ€é›†æˆ

### å…é‰´æƒè®¿é—® (Natural Authentication)

#### æ ¸å¿ƒç‰¹æ€§
äº‘æ‰˜ç®¡æœåŠ¡å¯ä»¥ç›´æ¥è·å–å°ç¨‹åºç”¨æˆ·çš„OpenIDï¼Œæ— éœ€é¢å¤–çš„é‰´æƒæµç¨‹ã€‚

#### å®ç°åŸç†
```javascript
// Node.js ç¤ºä¾‹ï¼šè·å–ç”¨æˆ·OpenID
app.post('/api/user', (req, res) => {
  // ä»è¯·æ±‚å¤´ä¸­è·å–ç”¨æˆ·OpenID
  const openid = req.headers['x-wx-openid'];
  const unionid = req.headers['x-wx-unionid'];

  if (!openid) {
    return res.status(401).json({ error: 'æœªæˆæƒè®¿é—®' });
  }

  // ä½¿ç”¨OpenIDå¤„ç†ä¸šåŠ¡é€»è¾‘
  res.json({
    openid: openid,
    unionid: unionid,
    message: 'è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸ'
  });
});
```

#### è¯·æ±‚å¤´ä¿¡æ¯
- `x-wx-openid`: ç”¨æˆ·çš„OpenID
- `x-wx-unionid`: ç”¨æˆ·çš„UnionID(å¦‚æœæœ‰)
- `x-wx-appid`: å°ç¨‹åºçš„AppID
- `x-wx-source`: è¯·æ±‚æ¥æºæ ‡è¯†

### äº‘è°ƒç”¨ (Cloud Call)

#### æ¦‚å¿µè¯´æ˜
äº‘è°ƒç”¨å…è®¸äº‘æ‰˜ç®¡æœåŠ¡ç›´æ¥è°ƒç”¨å¾®ä¿¡æä¾›çš„æœåŠ¡ç«¯APIï¼Œæ— éœ€è·å–access_tokenã€‚

#### æ”¯æŒçš„APIç±»åˆ«
- **ç”¨æˆ·ç®¡ç†**: è·å–ç”¨æˆ·ä¿¡æ¯ã€ç”¨æˆ·æ ‡ç­¾ç®¡ç†
- **æ¶ˆæ¯æ¨é€**: æ¨¡æ¿æ¶ˆæ¯ã€è®¢é˜…æ¶ˆæ¯
- **å¾®ä¿¡æ”¯ä»˜**: ç»Ÿä¸€ä¸‹å•ã€æŸ¥è¯¢è®¢å•ã€é€€æ¬¾
- **å†…å®¹å®‰å…¨**: æ–‡æœ¬æ£€æµ‹ã€å›¾ç‰‡æ£€æµ‹
- **æ•°æ®åˆ†æ**: è®¿é—®ç»Ÿè®¡ã€ç”¨æˆ·ç”»åƒ

#### ä½¿ç”¨ç¤ºä¾‹
```javascript
// ä½¿ç”¨äº‘è°ƒç”¨å‘é€è®¢é˜…æ¶ˆæ¯
const cloud = require('wx-server-sdk');

cloud.init({
  env: 'your-env-id'
});

// å‘é€è®¢é˜…æ¶ˆæ¯
async function sendSubscribeMessage(openid, templateId, data) {
  try {
    const result = await cloud.callContainer({
      config: {
        env: 'your-env-id'
      },
      path: '/cgi-bin/message/subscribe/send',
      method: 'POST',
      data: {
        touser: openid,
        template_id: templateId,
        data: data
      }
    });

    return result;
  } catch (error) {
    console.error('å‘é€æ¶ˆæ¯å¤±è´¥:', error);
    throw error;
  }
}
```

### å¾®ä¿¡æ”¯ä»˜é›†æˆ

#### æ”¯ä»˜æµç¨‹
```javascript
// åˆ›å»ºæ”¯ä»˜è®¢å•
app.post('/api/pay/create', async (req, res) => {
  const openid = req.headers['x-wx-openid'];
  const { amount, description } = req.body;

  try {
    // è°ƒç”¨å¾®ä¿¡æ”¯ä»˜API
    const payResult = await cloud.callContainer({
      path: '/pay/unifiedorder',
      method: 'POST',
      data: {
        openid: openid,
        body: description,
        total_fee: amount,
        trade_type: 'JSAPI'
      }
    });

    res.json({
      success: true,
      paymentParams: payResult.data
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});
```

#### æ”¯ä»˜å›è°ƒå¤„ç†
```javascript
// æ”¯ä»˜ç»“æœé€šçŸ¥
app.post('/api/pay/notify', (req, res) => {
  const { transaction_id, out_trade_no, total_fee } = req.body;

  // éªŒè¯æ”¯ä»˜ç»“æœ
  // æ›´æ–°è®¢å•çŠ¶æ€
  // å‘é€æ”¯ä»˜æˆåŠŸé€šçŸ¥

  res.send('SUCCESS');
});
```

---

## å¼€å‘æŒ‡å—

### ç¯å¢ƒå‡†å¤‡

#### å¼€å‘å·¥å…·
- **å¾®ä¿¡å¼€å‘è€…å·¥å…·**: ç”¨äºå°ç¨‹åºå¼€å‘å’Œäº‘æ‰˜ç®¡æœåŠ¡è°ƒè¯•
- **Docker**: æœ¬åœ°å®¹å™¨åŒ–å¼€å‘å’Œæµ‹è¯•
- **Git**: ä»£ç ç‰ˆæœ¬ç®¡ç†

#### é¡¹ç›®åˆå§‹åŒ–
```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir my-cloudrun-app
cd my-cloudrun-app

# 2. åˆå§‹åŒ–é¡¹ç›®
npm init -y

# 3. å®‰è£…ä¾èµ–
npm install express wx-server-sdk

# 4. åˆ›å»ºDockerfile
touch Dockerfile
```

### å¤šè¯­è¨€æ¡†æ¶æ”¯æŒ

#### Node.js åº”ç”¨
```javascript
// app.js
const express = require('express');
const app = express();
const port = process.env.PORT || 80;

app.use(express.json());

// å¥åº·æ£€æŸ¥æ¥å£
app.get('/health', (req, res) => {
  res.json({ status: 'healthy' });
});

// ä¸šåŠ¡æ¥å£
app.get('/api/hello', (req, res) => {
  const openid = req.headers['x-wx-openid'];
  res.json({
    message: 'Hello WeChat Cloud Run!',
    openid: openid
  });
});

app.listen(port, () => {
  console.log(`Server running on port ${port}`);
});
```

```dockerfile
# Dockerfile
FROM node:16-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install --production

COPY . .

EXPOSE 80

CMD ["node", "app.js"]
```

#### Python Flask åº”ç”¨
```python
# app.py
from flask import Flask, request, jsonify
import os

app = Flask(__name__)

@app.route('/health')
def health():
    return jsonify({'status': 'healthy'})

@app.route('/api/hello')
def hello():
    openid = request.headers.get('x-wx-openid')
    return jsonify({
        'message': 'Hello from Python!',
        'openid': openid
    })

if __name__ == '__main__':
    port = int(os.environ.get('PORT', 80))
    app.run(host='0.0.0.0', port=port)
```

```dockerfile
# Dockerfile for Python
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

EXPOSE 80

CMD ["python", "app.py"]
```

#### Java Spring Boot åº”ç”¨
```java
// Application.java
@SpringBootApplication
@RestController
public class CloudRunApplication {

    @GetMapping("/health")
    public Map<String, String> health() {
        return Map.of("status", "healthy");
    }

    @GetMapping("/api/hello")
    public Map<String, String> hello(HttpServletRequest request) {
        String openid = request.getHeader("x-wx-openid");
        return Map.of(
            "message", "Hello from Java!",
            "openid", openid != null ? openid : ""
        );
    }

    public static void main(String[] args) {
        SpringApplication.run(CloudRunApplication.class, args);
    }
}
```

### é…ç½®æ–‡ä»¶

#### container.config.json
```json
{
  "containerPort": 80,
  "minNum": 0,
  "maxNum": 10,
  "cpu": 1,
  "mem": 2,
  "policyType": "cpu",
  "policyThreshold": 60,
  "envParams": {
    "MYSQL_ADDRESS": "",
    "MYSQL_PASSWORD": "",
    "MYSQL_USERNAME": ""
  },
  "customLogs": "stdout",
  "initialDelaySeconds": 2,
  "dataBaseName": "nodejs_demo",
  "executeSQLs": [
    "CREATE DATABASE IF NOT EXISTS nodejs_demo;",
    "USE nodejs_demo;",
    "CREATE TABLE IF NOT EXISTS Counters(id INT NOT NULL AUTO_INCREMENT, count INT NOT NULL DEFAULT 1, PRIMARY KEY (id));"
  ]
}
```

---

## æ•°æ®åº“ä¸å­˜å‚¨

### MySQLæ•°æ®åº“

#### è¿æ¥é…ç½®
```javascript
// æ•°æ®åº“è¿æ¥
const mysql = require('mysql2/promise');

const dbConfig = {
  host: process.env.MYSQL_ADDRESS,
  user: process.env.MYSQL_USERNAME,
  password: process.env.MYSQL_PASSWORD,
  database: 'your_database',
  charset: 'utf8mb4'
};

const pool = mysql.createPool(dbConfig);

// ä½¿ç”¨ç¤ºä¾‹
async function getUser(openid) {
  const [rows] = await pool.execute(
    'SELECT * FROM users WHERE openid = ?',
    [openid]
  );
  return rows[0];
}
```

#### ç¯å¢ƒå˜é‡é…ç½®
äº‘æ‰˜ç®¡ä¼šè‡ªåŠ¨æ³¨å…¥ä»¥ä¸‹æ•°æ®åº“ç¯å¢ƒå˜é‡ï¼š
- `MYSQL_ADDRESS`: æ•°æ®åº“åœ°å€
- `MYSQL_USERNAME`: æ•°æ®åº“ç”¨æˆ·å
- `MYSQL_PASSWORD`: æ•°æ®åº“å¯†ç 

### å¯¹è±¡å­˜å‚¨

#### æ–‡ä»¶ä¸Šä¼ 
```javascript
// æ–‡ä»¶ä¸Šä¼ åˆ°äº‘å­˜å‚¨
const cloud = require('wx-server-sdk');

async function uploadFile(fileBuffer, fileName) {
  try {
    const result = await cloud.uploadFile({
      cloudPath: `uploads/${fileName}`,
      fileContent: fileBuffer
    });

    return result.fileID;
  } catch (error) {
    console.error('æ–‡ä»¶ä¸Šä¼ å¤±è´¥:', error);
    throw error;
  }
}
```

#### è·å–ä¸´æ—¶é“¾æ¥
```javascript
// è·å–æ–‡ä»¶ä¸´æ—¶è®¿é—®é“¾æ¥
async function getTempFileURL(fileID) {
  try {
    const result = await cloud.getTempFileURL({
      fileList: [fileID]
    });

    return result.fileList[0].tempFileURL;
  } catch (error) {
    console.error('è·å–ä¸´æ—¶é“¾æ¥å¤±è´¥:', error);
    throw error;
  }
}
```

---

## è°ƒè¯•ä¸ç›‘æ§

### æœ¬åœ°è°ƒè¯•

#### ç¯å¢ƒå˜é‡æ¨¡æ‹Ÿ
```bash
# .env æ–‡ä»¶
PORT=3000
MYSQL_ADDRESS=localhost:3306
MYSQL_USERNAME=root
MYSQL_PASSWORD=password
```

#### ç”¨æˆ·èº«ä»½æ¨¡æ‹Ÿ
```javascript
// æœ¬åœ°è°ƒè¯•æ—¶æ¨¡æ‹Ÿå¾®ä¿¡ç”¨æˆ·èº«ä»½
app.use((req, res, next) => {
  if (process.env.NODE_ENV === 'development') {
    req.headers['x-wx-openid'] = 'mock-openid-123';
    req.headers['x-wx-unionid'] = 'mock-unionid-123';
  }
  next();
});
```

### äº‘ç«¯è°ƒè¯•

#### æ—¥å¿—æŸ¥çœ‹
```javascript
// ç»“æ„åŒ–æ—¥å¿—è¾“å‡º
const logger = {
  info: (message, data = {}) => {
    console.log(JSON.stringify({
      level: 'info',
      message,
      data,
      timestamp: new Date().toISOString()
    }));
  },
  error: (message, error = {}) => {
    console.error(JSON.stringify({
      level: 'error',
      message,
      error: error.message || error,
      stack: error.stack,
      timestamp: new Date().toISOString()
    }));
  }
};

// ä½¿ç”¨ç¤ºä¾‹
logger.info('ç”¨æˆ·ç™»å½•', { openid: 'xxx', action: 'login' });
logger.error('æ•°æ®åº“è¿æ¥å¤±è´¥', error);
```

#### æ€§èƒ½ç›‘æ§
```javascript
// è¯·æ±‚è€—æ—¶ç›‘æ§
app.use((req, res, next) => {
  const start = Date.now();

  res.on('finish', () => {
    const duration = Date.now() - start;
    logger.info('è¯·æ±‚å®Œæˆ', {
      method: req.method,
      url: req.url,
      status: res.statusCode,
      duration: `${duration}ms`
    });
  });

  next();
});
```

### å¥åº·æ£€æŸ¥

#### å¥åº·æ£€æŸ¥æ¥å£
```javascript
// å¥åº·æ£€æŸ¥å®ç°
app.get('/health', async (req, res) => {
  const health = {
    status: 'healthy',
    timestamp: new Date().toISOString(),
    checks: {}
  };

  try {
    // æ£€æŸ¥æ•°æ®åº“è¿æ¥
    await pool.execute('SELECT 1');
    health.checks.database = 'healthy';
  } catch (error) {
    health.checks.database = 'unhealthy';
    health.status = 'unhealthy';
  }

  // æ£€æŸ¥å¤–éƒ¨ä¾èµ–
  try {
    // æ£€æŸ¥ç¬¬ä¸‰æ–¹æœåŠ¡
    health.checks.external = 'healthy';
  } catch (error) {
    health.checks.external = 'unhealthy';
    health.status = 'unhealthy';
  }

  const statusCode = health.status === 'healthy' ? 200 : 503;
  res.status(statusCode).json(health);
});
```

---

## éƒ¨ç½²ä¸ç‰ˆæœ¬ç®¡ç†

### éƒ¨ç½²æµç¨‹

#### 1. ä»£ç å‡†å¤‡
```bash
# ç¡®ä¿ä»£ç å·²æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push origin main
```

#### 2. æ„å»ºé•œåƒ
```bash
# æœ¬åœ°æ„å»ºæµ‹è¯•
docker build -t my-app:latest .
docker run -p 3000:80 my-app:latest
```

#### 3. éƒ¨ç½²åˆ°äº‘æ‰˜ç®¡
é€šè¿‡å¾®ä¿¡å¼€å‘è€…å·¥å…·æˆ–æ§åˆ¶å°è¿›è¡Œéƒ¨ç½²ï¼š
- é€‰æ‹©ä»£ç ä»“åº“æˆ–ä¸Šä¼ ä»£ç åŒ…
- é…ç½®ç¯å¢ƒå˜é‡å’Œèµ„æºè§„æ ¼
- è®¾ç½®æµé‡åˆ†é…ç­–ç•¥
- æ‰§è¡Œéƒ¨ç½²

### ç‰ˆæœ¬ç®¡ç†ç­–ç•¥

#### è“ç»¿éƒ¨ç½²
```javascript
// éƒ¨ç½²é…ç½®
const deployConfig = {
  strategy: 'blue-green',
  healthCheck: {
    path: '/health',
    interval: 30,
    timeout: 10,
    threshold: 3
  },
  rollback: {
    automatic: true,
    errorThreshold: 5
  }
};
```

#### ç°åº¦å‘å¸ƒ
```javascript
// ç°åº¦å‘å¸ƒé…ç½®
const grayReleaseConfig = {
  strategy: 'canary',
  steps: [
    { version: 'v2', traffic: 10 },  // ç¬¬ä¸€æ­¥ï¼š10%æµé‡
    { version: 'v2', traffic: 50 },  // ç¬¬äºŒæ­¥ï¼š50%æµé‡
    { version: 'v2', traffic: 100 }  // ç¬¬ä¸‰æ­¥ï¼š100%æµé‡
  ],
  duration: 1800, // æ¯æ­¥æŒç»­30åˆ†é’Ÿ
  rollbackOnError: true
};
```

### ç¯å¢ƒç®¡ç†

#### å¤šç¯å¢ƒé…ç½®
```javascript
// ç¯å¢ƒé…ç½®
const config = {
  development: {
    database: {
      host: 'localhost',
      port: 3306
    },
    log: {
      level: 'debug'
    }
  },
  staging: {
    database: {
      host: process.env.MYSQL_ADDRESS,
      port: 3306
    },
    log: {
      level: 'info'
    }
  },
  production: {
    database: {
      host: process.env.MYSQL_ADDRESS,
      port: 3306
    },
    log: {
      level: 'warn'
    }
  }
};

const env = process.env.NODE_ENV || 'development';
module.exports = config[env];
```

---

## æœ€ä½³å®è·µ

### æ€§èƒ½ä¼˜åŒ–

#### 1. å®¹å™¨ä¼˜åŒ–
```dockerfile
# å¤šé˜¶æ®µæ„å»ºå‡å°é•œåƒå¤§å°
FROM node:16-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

FROM node:16-alpine AS runtime
WORKDIR /app
COPY --from=builder /app/node_modules ./node_modules
COPY . .
EXPOSE 80
CMD ["node", "app.js"]
```

#### 2. æ•°æ®åº“è¿æ¥æ± 
```javascript
// ä¼˜åŒ–æ•°æ®åº“è¿æ¥
const pool = mysql.createPool({
  host: process.env.MYSQL_ADDRESS,
  user: process.env.MYSQL_USERNAME,
  password: process.env.MYSQL_PASSWORD,
  database: 'your_database',
  connectionLimit: 10,
  queueLimit: 0,
  acquireTimeout: 60000,
  timeout: 60000
});
```

#### 3. ç¼“å­˜ç­–ç•¥
```javascript
// Redisç¼“å­˜å®ç°
const redis = require('redis');
const client = redis.createClient({
  host: process.env.REDIS_HOST,
  port: process.env.REDIS_PORT
});

async function getCachedData(key) {
  try {
    const cached = await client.get(key);
    return cached ? JSON.parse(cached) : null;
  } catch (error) {
    console.error('ç¼“å­˜è¯»å–å¤±è´¥:', error);
    return null;
  }
}

async function setCachedData(key, data, ttl = 3600) {
  try {
    await client.setex(key, ttl, JSON.stringify(data));
  } catch (error) {
    console.error('ç¼“å­˜å†™å…¥å¤±è´¥:', error);
  }
}
```

### å®‰å…¨æœ€ä½³å®è·µ

#### 1. è¾“å…¥éªŒè¯
```javascript
const Joi = require('joi');

// è¯·æ±‚å‚æ•°éªŒè¯
const userSchema = Joi.object({
  name: Joi.string().min(1).max(50).required(),
  email: Joi.string().email().required(),
  age: Joi.number().integer().min(0).max(120)
});

app.post('/api/user', (req, res) => {
  const { error, value } = userSchema.validate(req.body);

  if (error) {
    return res.status(400).json({
      success: false,
      message: error.details[0].message
    });
  }

  // å¤„ç†éªŒè¯é€šè¿‡çš„æ•°æ®
  processUser(value);
});
```

#### 2. SQLæ³¨å…¥é˜²æŠ¤
```javascript
// ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
async function getUserByEmail(email) {
  // âœ… æ­£ç¡®ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
  const [rows] = await pool.execute(
    'SELECT * FROM users WHERE email = ?',
    [email]
  );

  // âŒ é”™è¯¯ï¼šå­—ç¬¦ä¸²æ‹¼æ¥å®¹æ˜“SQLæ³¨å…¥
  // const query = `SELECT * FROM users WHERE email = '${email}'`;

  return rows[0];
}
```

#### 3. æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
```javascript
// ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯
const config = {
  database: {
    password: process.env.MYSQL_PASSWORD, // ä»ç¯å¢ƒå˜é‡è¯»å–
  },
  jwt: {
    secret: process.env.JWT_SECRET,
  },
  wechat: {
    appSecret: process.env.WECHAT_APP_SECRET,
  }
};

// ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
// âŒ const password = 'hardcoded-password';
```

### ç›‘æ§å‘Šè­¦

#### 1. ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§
```javascript
// ä¸šåŠ¡æŒ‡æ ‡ç»Ÿè®¡
const metrics = {
  requestCount: 0,
  errorCount: 0,
  responseTime: []
};

app.use((req, res, next) => {
  metrics.requestCount++;
  const start = Date.now();

  res.on('finish', () => {
    const duration = Date.now() - start;
    metrics.responseTime.push(duration);

    if (res.statusCode >= 400) {
      metrics.errorCount++;
    }

    // å®šæœŸä¸ŠæŠ¥æŒ‡æ ‡
    if (metrics.requestCount % 100 === 0) {
      reportMetrics(metrics);
    }
  });

  next();
});
```

#### 2. é”™è¯¯ç›‘æ§
```javascript
// å…¨å±€é”™è¯¯å¤„ç†
process.on('uncaughtException', (error) => {
  console.error('æœªæ•è·çš„å¼‚å¸¸:', error);
  // ä¸ŠæŠ¥é”™è¯¯åˆ°ç›‘æ§ç³»ç»Ÿ
  reportError(error);
  process.exit(1);
});

process.on('unhandledRejection', (reason, promise) => {
  console.error('æœªå¤„ç†çš„Promiseæ‹’ç»:', reason);
  reportError(reason);
});

// åº”ç”¨çº§é”™è¯¯å¤„ç†
app.use((error, req, res, next) => {
  console.error('åº”ç”¨é”™è¯¯:', error);
  reportError(error, {
    url: req.url,
    method: req.method,
    userAgent: req.get('User-Agent')
  });

  res.status(500).json({
    success: false,
    message: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'
  });
});
```

---

## å¸¸è§é—®é¢˜

### éƒ¨ç½²ç›¸å…³é—®é¢˜

#### Q: éƒ¨ç½²å¤±è´¥ä½†ä¸šåŠ¡æ—¥å¿—æ˜¾ç¤ºæ­£å¸¸è¿è¡Œï¼Ÿ
**A: å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š**

1. **å¥åº·æ£€æŸ¥å¤±è´¥**
```javascript
// ç¡®ä¿å¥åº·æ£€æŸ¥æ¥å£æ­£å¸¸å“åº”
app.get('/health', (req, res) => {
  res.status(200).json({ status: 'ok' });
});
```

2. **ç«¯å£é…ç½®é”™è¯¯**
```javascript
// ä½¿ç”¨ç¯å¢ƒå˜é‡PORTæˆ–é»˜è®¤80ç«¯å£
const port = process.env.PORT || 80;
app.listen(port, '0.0.0.0', () => {
  console.log(`Server running on port ${port}`);
});
```

3. **å¯åŠ¨æ—¶é—´è¿‡é•¿**
```dockerfile
# ä¼˜åŒ–é•œåƒæ„å»ºï¼Œå‡å°‘å¯åŠ¨æ—¶é—´
FROM node:16-alpine
# ... å…¶ä»–é…ç½®
CMD ["node", "app.js"]
```

#### Q: ç¼ºå°‘ä¾èµ–æŠ¥é”™å¦‚ä½•å¤„ç†ï¼Ÿ
**A: ä¾èµ–ç®¡ç†æœ€ä½³å®è·µï¼š**

1. **ç¡®ä¿package.jsonå®Œæ•´**
```json
{
  "dependencies": {
    "express": "^4.18.0",
    "mysql2": "^2.3.0"
  },
  "engines": {
    "node": ">=16.0.0"
  }
}
```

2. **Dockeræ„å»ºä¼˜åŒ–**
```dockerfile
# å…ˆå¤åˆ¶packageæ–‡ä»¶ï¼Œåˆ©ç”¨Dockerç¼“å­˜
COPY package*.json ./
RUN npm ci --only=production

# å†å¤åˆ¶æºä»£ç 
COPY . .
```

### æ•°æ®åº“è¿æ¥é—®é¢˜

#### Q: æ— æ³•è¿æ¥æ•°æ®åº“ï¼Ÿ
**A: æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š**

1. **ç¯å¢ƒå˜é‡é…ç½®**
```javascript
// æ£€æŸ¥å¿…è¦çš„ç¯å¢ƒå˜é‡
const requiredEnvVars = [
  'MYSQL_ADDRESS',
  'MYSQL_USERNAME',
  'MYSQL_PASSWORD'
];

requiredEnvVars.forEach(envVar => {
  if (!process.env[envVar]) {
    console.error(`ç¼ºå°‘ç¯å¢ƒå˜é‡: ${envVar}`);
    process.exit(1);
  }
});
```

2. **è¿æ¥é…ç½®éªŒè¯**
```javascript
// æ·»åŠ è¿æ¥æµ‹è¯•
async function testDatabaseConnection() {
  try {
    const connection = await mysql.createConnection({
      host: process.env.MYSQL_ADDRESS,
      user: process.env.MYSQL_USERNAME,
      password: process.env.MYSQL_PASSWORD
    });

    await connection.execute('SELECT 1');
    console.log('æ•°æ®åº“è¿æ¥æˆåŠŸ');
    await connection.end();
  } catch (error) {
    console.error('æ•°æ®åº“è¿æ¥å¤±è´¥:', error);
    throw error;
  }
}
```

### æ€§èƒ½é—®é¢˜

#### Q: æœåŠ¡å“åº”æ…¢æˆ–è¶…æ—¶ï¼Ÿ
**A: æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š**

1. **æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–**
```javascript
// æ·»åŠ æ•°æ®åº“ç´¢å¼•
const createIndexSQL = `
  CREATE INDEX idx_user_openid ON users(openid);
  CREATE INDEX idx_order_status ON orders(status, created_at);
`;

// ä½¿ç”¨è¿æ¥æ± 
const pool = mysql.createPool({
  connectionLimit: 10,
  queueLimit: 0
});
```

2. **ç¼“å­˜ç­–ç•¥**
```javascript
// å®ç°ç®€å•å†…å­˜ç¼“å­˜
const cache = new Map();

function getCached(key, ttl = 300000) { // 5åˆ†é’ŸTTL
  const item = cache.get(key);
  if (item && Date.now() - item.timestamp < ttl) {
    return item.data;
  }
  return null;
}

function setCache(key, data) {
  cache.set(key, {
    data,
    timestamp: Date.now()
  });
}
```

3. **å¼‚æ­¥å¤„ç†**
```javascript
// ä½¿ç”¨å¼‚æ­¥å¤„ç†å‡å°‘å“åº”æ—¶é—´
app.post('/api/process', async (req, res) => {
  // ç«‹å³è¿”å›å“åº”
  res.json({ status: 'processing', taskId: 'xxx' });

  // å¼‚æ­¥å¤„ç†è€—æ—¶ä»»åŠ¡
  setImmediate(async () => {
    try {
      await processLongRunningTask(req.body);
    } catch (error) {
      console.error('å¼‚æ­¥ä»»åŠ¡å¤±è´¥:', error);
    }
  });
});
```

### å¾®ä¿¡é›†æˆé—®é¢˜

#### Q: æ— æ³•è·å–ç”¨æˆ·OpenIDï¼Ÿ
**A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š**

1. **è¯·æ±‚æ¥æºéªŒè¯**
```javascript
app.use((req, res, next) => {
  const openid = req.headers['x-wx-openid'];

  if (!openid && process.env.NODE_ENV === 'production') {
    return res.status(401).json({
      error: 'æœªæˆæƒè®¿é—®ï¼Œè¯·é€šè¿‡å°ç¨‹åºè®¿é—®'
    });
  }

  req.userOpenid = openid;
  next();
});
```

2. **å°ç¨‹åºç«¯è¯·æ±‚é…ç½®**
```javascript
// å°ç¨‹åºç«¯ç¡®ä¿æ­£ç¡®è°ƒç”¨
wx.request({
  url: 'https://your-service.com/api/user',
  method: 'POST',
  data: { /* è¯·æ±‚æ•°æ® */ },
  success: (res) => {
    console.log('è¯·æ±‚æˆåŠŸ:', res.data);
  },
  fail: (error) => {
    console.error('è¯·æ±‚å¤±è´¥:', error);
  }
});
```

#### Q: äº‘è°ƒç”¨APIå¤±è´¥ï¼Ÿ
**A: äº‘è°ƒç”¨é…ç½®æ£€æŸ¥ï¼š**

1. **SDKåˆå§‹åŒ–**
```javascript
const cloud = require('wx-server-sdk');

// æ­£ç¡®åˆå§‹åŒ–äº‘å¼€å‘SDK
cloud.init({
  env: process.env.CLOUD_ENV_ID || 'your-env-id'
});
```

2. **APIè°ƒç”¨ç¤ºä¾‹**
```javascript
// è°ƒç”¨å¾®ä¿¡API
async function callWeChatAPI(apiPath, data) {
  try {
    const result = await cloud.callContainer({
      config: {
        env: process.env.CLOUD_ENV_ID
      },
      path: apiPath,
      method: 'POST',
      data: data
    });

    return result;
  } catch (error) {
    console.error('å¾®ä¿¡APIè°ƒç”¨å¤±è´¥:', error);
    throw error;
  }
}
```

---

## æ€»ç»“

å¾®ä¿¡äº‘æ‰˜ç®¡ä½œä¸ºæ–°ä¸€ä»£äº‘åŸç”Ÿåº”ç”¨å¼•æ“ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„å®¹å™¨åŒ–åº”ç”¨æ‰˜ç®¡èƒ½åŠ›ã€‚å®ƒä¸ä»…æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ï¼Œè¿˜ä¸å¾®ä¿¡ç”Ÿæ€æ·±åº¦é›†æˆï¼Œæä¾›äº†å…é‰´æƒè®¿é—®å’Œäº‘è°ƒç”¨ç­‰ç‹¬ç‰¹åŠŸèƒ½ã€‚

### æ ¸å¿ƒä»·å€¼

1. **å¼€å‘æ•ˆç‡**: å…è¿ç»´ã€è‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œè®©å¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡é€»è¾‘
2. **æˆæœ¬ä¼˜åŒ–**: æŒ‰éœ€ä»˜è´¹ã€ç¼©å®¹åˆ°é›¶ï¼Œæœ‰æ•ˆæ§åˆ¶è¿è¥æˆæœ¬
3. **å¾®ä¿¡é›†æˆ**: å¤©ç„¶æ”¯æŒå¾®ä¿¡ç”¨æˆ·ä½“ç³»å’ŒAPIè°ƒç”¨
4. **æŠ€æœ¯çµæ´»**: æ”¯æŒä»»æ„è¯­è¨€æ¡†æ¶ï¼Œæ»¡è¶³ä¸åŒæŠ€æœ¯æ ˆéœ€æ±‚

### é€‚ç”¨åœºæ™¯

- **å°ç¨‹åºåç«¯æœåŠ¡**: ä¸ºå°ç¨‹åºæä¾›æ•°æ®æ¥å£å’Œä¸šåŠ¡é€»è¾‘
- **å¾®ä¿¡ç”Ÿæ€åº”ç”¨**: å…¬ä¼—å·ã€ä¼ä¸šå¾®ä¿¡ç­‰åº”ç”¨çš„åç«¯æœåŠ¡
- **APIç½‘å…³**: ç»Ÿä¸€çš„APIæ¥å…¥å’Œç®¡ç†å¹³å°
- **å¾®æœåŠ¡æ¶æ„**: æ„å»ºäº‘åŸç”Ÿçš„å¾®æœåŠ¡åº”ç”¨

### å­¦ä¹ èµ„æº

- **å®˜æ–¹æ–‡æ¡£**: [å¾®ä¿¡äº‘æ‰˜ç®¡æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/wxcloudrun/)
- **ç¤ºä¾‹ä»£ç **: [GitHubç¤ºä¾‹ä»“åº“](https://github.com/WeixinCloud)
- **è…¾è®¯äº‘æ–‡æ¡£**: [äº‘æ‰˜ç®¡äº§å“æ–‡æ¡£](https://cloud.tencent.cn/document/product/1243)

é€šè¿‡æœ¬çŸ¥è¯†åº“çš„å­¦ä¹ ï¼Œç›¸ä¿¡ä½ å·²ç»æŒæ¡äº†å¾®ä¿¡äº‘æ‰˜ç®¡çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®è·µæ–¹æ³•ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ä»ç®€å•çš„åº”ç”¨å¼€å§‹ï¼Œé€æ­¥æ¢ç´¢æ›´é«˜çº§çš„åŠŸèƒ½å’Œä¼˜åŒ–ç­–ç•¥ã€‚

---

*æœ¬æ–‡æ¡£åŸºäºå¾®ä¿¡äº‘æ‰˜ç®¡æœ€æ–°ç‰ˆæœ¬æ•´ç†ï¼Œå¦‚æœ‰æ›´æ–°è¯·ä»¥å®˜æ–¹æœ€æ–°æ–‡æ¡£ä¸ºå‡†ã€‚*
