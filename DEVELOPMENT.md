# å¾®ä¿¡å°ç¨‹åºå¼€å‘æŒ‡å—

## é¡¹ç›®æ¨¡æ¿åŒ–è¯´æ˜

æœ¬é¡¹ç›®å·²é…ç½®ä¸ºå¾®ä¿¡å°ç¨‹åºå¼€å‘çš„é€šç”¨èµ·å§‹æ¨¡æ¿ï¼Œé‡‡ç”¨**å…³æ³¨ç‚¹åˆ†ç¦»**çš„åŒç›®å½•æ¶æ„ï¼Œæ”¯æŒ **Cursor + å¾®ä¿¡å¼€å‘è€…å·¥å…·** åŒå·¥å…·åä½œå¼€å‘ã€‚

## ğŸ—ï¸ åŒç›®å½•æ¶æ„è¯´æ˜

- **ä¸»ç›®å½•**: Cursorå¼€å‘ç¯å¢ƒï¼Œè´Ÿè´£ä»£ç ç¼–è¾‘ã€é¡¹ç›®ç®¡ç†ã€æµ‹è¯•
- **miniprogramç›®å½•**: å¾®ä¿¡å°ç¨‹åºæ ¹ç›®å½•ï¼Œä¾›å¾®ä¿¡å¼€å‘è€…å·¥å…·è°ƒè¯•é¢„è§ˆ
- **å®Œå…¨åˆ†ç¦»**: ä¸¤ä¸ªå·¥å…·äº’ä¸å†²çªï¼Œå„å¸å…¶èŒ

## å¿«é€Ÿå¼€å§‹æ–°é¡¹ç›®

### 1. å¤åˆ¶æ¨¡æ¿é¡¹ç›®
```bash
# å…‹éš†æˆ–ä¸‹è½½æ­¤é¡¹ç›®
git clone <your-template-repo>
cd your-new-project

# é‡æ–°åˆå§‹åŒ– gitï¼ˆå¯é€‰ï¼‰
rm -rf .git
git init
```

### 2. é…ç½®æ–°é¡¹ç›®ä¿¡æ¯
ç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶ï¼Œæ›¿æ¢ä¸ºä½ çš„é¡¹ç›®ä¿¡æ¯ï¼š

**package.json**
```json
{
  "name": "your-project-name",
  "version": "1.0.0",
  "description": "ä½ çš„é¡¹ç›®æè¿°",
  "repository": {
    "type": "git",
    "url": "ä½ çš„ä»“åº“åœ°å€"
  },
  "author": "ä½ çš„åå­—"
}
```

**project.config.json**
```json
{
  "appid": "ä½ çš„å°ç¨‹åºAppID",
  "projectname": "ä½ çš„é¡¹ç›®åç§°"
}
```

**miniprogram/app.json**
æ ¹æ®éœ€è¦ä¿®æ”¹å°ç¨‹åºçš„åŸºæœ¬é…ç½®ã€‚

### 3. å®‰è£…ä¾èµ–
```bash
npm run init
```

### 4. æ¸…ç†ç¤ºä¾‹ä»£ç 
- åˆ é™¤ä¸éœ€è¦çš„ç¤ºä¾‹é¡µé¢
- ä¿ç•™æ ¸å¿ƒæ–‡ä»¶ç»“æ„å’Œé…ç½®
- æ ¹æ®éœ€è¦ä¿®æ”¹ `miniprogram/app.json` ä¸­çš„é¡µé¢è·¯ç”±

## å¼€å‘ç¯å¢ƒé…ç½®

### Cursor é…ç½®
é¡¹ç›®å·²é¢„é…ç½® `.vscode/` ç›®å½•ï¼ŒåŒ…å«ï¼š
- `settings.json`: é¡¹ç›®ç‰¹å®šè®¾ç½®
- `extensions.json`: æ¨èæ‰©å±•åˆ—è¡¨
- `launch.json`: è°ƒè¯•é…ç½®

é¦–æ¬¡æ‰“å¼€é¡¹ç›®æ—¶ï¼ŒCursor ä¼šæç¤ºå®‰è£…æ¨èæ‰©å±•ã€‚

### å¾®ä¿¡å¼€å‘è€…å·¥å…·é…ç½®
1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. å¯¼å…¥é¡¹ç›®ï¼Œé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•
3. ç¡®ä¿ AppID å·²æ­£ç¡®é…ç½®

## å¼€å‘æµç¨‹

### ä»£ç å¼€å‘
ä½¿ç”¨ **Cursor** è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œæ”¯æŒï¼š
- æ™ºèƒ½ä»£ç è¡¥å…¨
- ESLint å®æ—¶æ£€æŸ¥
- ä»£ç æ ¼å¼åŒ–
- Git ç‰ˆæœ¬æ§åˆ¶

### è°ƒè¯•æµ‹è¯•
ä½¿ç”¨ **å¾®ä¿¡å¼€å‘è€…å·¥å…·** è¿›è¡Œè°ƒè¯•ï¼š
- å®æ—¶é¢„è§ˆ
- çœŸæœºè°ƒè¯•
- æ€§èƒ½åˆ†æ
- ä»£ç ä¸Šä¼ å‘å¸ƒ

## æŠ€æœ¯è§„èŒƒ

### JavaScript ç¼–ç è§„èŒƒ
- ä½¿ç”¨ ES2021+ è¯­æ³•ç‰¹æ€§
- ä¼˜å…ˆä½¿ç”¨ `const` å’Œ `let`ï¼Œé¿å… `var`
- ä½¿ç”¨ç®­å¤´å‡½æ•°å’Œè§£æ„èµ‹å€¼
- å¼‚æ­¥æ“ä½œä½¿ç”¨ `async/await`

```javascript
// âœ… æ¨èå†™æ³•
const { request } = require('../utils/request');

const fetchUserData = async (userId) => {
  try {
    const response = await request.get(`/api/users/${userId}`);
    return response.data;
  } catch (error) {
    console.error('è·å–ç”¨æˆ·æ•°æ®å¤±è´¥:', error);
    throw error;
  }
};
```

### å°ç¨‹åºå¼€å‘è§„èŒƒ
- é¡µé¢å’Œç»„ä»¶ä½¿ç”¨å°é©¼å³°å‘½å
- æ–‡ä»¶å¤¹ä½¿ç”¨çŸ­æ¨ªçº¿åˆ†éš”
- åˆç†ä½¿ç”¨ `setData()` æ›´æ–°æ•°æ®
- é¿å…åœ¨ `wxml` ä¸­å†™å¤æ‚é€»è¾‘

### å·¥å…·ç±»ä½¿ç”¨
- ç½‘ç»œè¯·æ±‚ç»Ÿä¸€ä½¿ç”¨ `utils/request.js`
- æ•°æ®å­˜å‚¨ä½¿ç”¨ `utils/storage.js`
- çŠ¶æ€ç®¡ç†ä½¿ç”¨ `utils/store.js`
- é”™è¯¯å¤„ç†ä½¿ç”¨ `utils/errorHandler.js`

## é¡¹ç›®ç»“æ„è¯¦è§£

### æ ¸å¿ƒç›®å½•
```
miniprogram/
â”œâ”€â”€ app.js                 # åº”ç”¨å…¥å£ï¼Œå…¨å±€ç”Ÿå‘½å‘¨æœŸ
â”œâ”€â”€ app.json               # å…¨å±€é…ç½®ï¼Œé¡µé¢è·¯ç”±
â”œâ”€â”€ app.wxss               # å…¨å±€æ ·å¼
â”œâ”€â”€ pages/                 # é¡µé¢ç›®å½•
â”‚   â””â”€â”€ index/
â”‚       â”œâ”€â”€ index.js       # é¡µé¢é€»è¾‘
â”‚       â”œâ”€â”€ index.json     # é¡µé¢é…ç½®
â”‚       â”œâ”€â”€ index.wxml     # é¡µé¢ç»“æ„
â”‚       â””â”€â”€ index.wxss     # é¡µé¢æ ·å¼
â”œâ”€â”€ components/            # è‡ªå®šä¹‰ç»„ä»¶
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°åº“
â”œâ”€â”€ config/                # ç¯å¢ƒé…ç½®
â”œâ”€â”€ assets/                # é™æ€èµ„æº
â””â”€â”€ cloud/                 # äº‘å¼€å‘ç›¸å…³
```

### å·¥å…·ç±»è¯´æ˜
- `request.js`: HTTP è¯·æ±‚å°è£…ï¼Œæ”¯æŒæ‹¦æˆªå™¨å’Œé‡è¯•
- `storage.js`: æœ¬åœ°å­˜å‚¨ç®¡ç†ï¼Œæ”¯æŒè¿‡æœŸæ—¶é—´
- `store.js`: å…¨å±€çŠ¶æ€ç®¡ç†
- `wx-utils.js`: å¾®ä¿¡ API å°è£…
- `format.js`: æ•°æ®æ ¼å¼åŒ–å·¥å…·
- `errorHandler.js`: ç»Ÿä¸€é”™è¯¯å¤„ç†

## å¼€å‘æŠ€å·§

### 1. ç¯å¢ƒåˆ‡æ¢
```javascript
// config/env.js
const envVersion = __wxConfig.envVersion || 'develop';
const config = configs[envVersion];
```

### 2. é¡µé¢ç”Ÿå‘½å‘¨æœŸ
```javascript
Page({
  onLoad(options) {
    // é¡µé¢åŠ è½½æ—¶è°ƒç”¨
  },
  onReady() {
    // é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆæ—¶è°ƒç”¨
  },
  onShow() {
    // é¡µé¢æ˜¾ç¤º/åˆ‡å…¥å‰å°æ—¶è§¦å‘
  }
});
```

### 3. ç»„ä»¶é€šä¿¡
```javascript
// çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®
<custom-component prop-data="{{data}}" />

// å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’äº‹ä»¶
this.triggerEvent('customEvent', { data: 'value' });
```

### 4. å¼‚æ­¥æ•°æ®åŠ è½½
```javascript
async loadData() {
  try {
    wx.showLoading({ title: 'åŠ è½½ä¸­...' });
    const data = await request.get('/api/data');
    this.setData({ data });
  } catch (error) {
    wx.showToast({ title: 'åŠ è½½å¤±è´¥', icon: 'error' });
  } finally {
    wx.hideLoading();
  }
}
```

## æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®æ›´æ–°ä¼˜åŒ–
- åªæ›´æ–°å˜åŒ–çš„æ•°æ®
- é¿å…é¢‘ç¹è°ƒç”¨ `setData()`
- ä½¿ç”¨æ•°æ®è·¯å¾„æ›´æ–°

### 2. å›¾ç‰‡ä¼˜åŒ–
- ä½¿ç”¨åˆé€‚çš„å›¾ç‰‡æ ¼å¼å’Œå¤§å°
- å®ç°å›¾ç‰‡æ‡’åŠ è½½
- ä½¿ç”¨ CDN åŠ é€Ÿ

### 3. ä»£ç åˆ†åŒ…
- åˆç†ä½¿ç”¨åˆ†åŒ…åŠ è½½
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ†åŒ…
- é¢„åŠ è½½é‡è¦åˆ†åŒ…

## è°ƒè¯•æŠ€å·§

### 1. çœŸæœºè°ƒè¯•
```bash
# å¯ç”¨çœŸæœºè°ƒè¯•æ¨¡å¼
npm run dev:remote
```

### 2. æ€§èƒ½ç›‘æ§
```javascript
// ä½¿ç”¨å¾®ä¿¡æä¾›çš„æ€§èƒ½ç›‘æ§
wx.reportPerformance(1001, 100); // ä¸ŠæŠ¥æ€§èƒ½æ•°æ®
```

### 3. æ—¥å¿—ç®¡ç†
```javascript
// å¼€å‘ç¯å¢ƒè¾“å‡ºè¯¦ç»†æ—¥å¿—
if (config.debug) {
  console.log('è°ƒè¯•ä¿¡æ¯:', data);
}
```

## å‘å¸ƒæµç¨‹

### 1. ä»£ç æ£€æŸ¥
```bash
npm run lint        # ESLint æ£€æŸ¥
npm run test        # è¿è¡Œæµ‹è¯•
npm run build       # æ„å»ºæ£€æŸ¥
```

### 2. ç‰ˆæœ¬å‘å¸ƒ
```bash
npm run release     # å‘å¸ƒæ–°ç‰ˆæœ¬
```

### 3. ä¸Šä¼ ä»£ç 
ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸Šä¼ ä»£ç åˆ°å¾®ä¿¡åå°

## å¸¸è§é—®é¢˜

### 1. ç¯å¢ƒé…ç½®é—®é¢˜
- ç¡®ä¿ Node.js ç‰ˆæœ¬ >= 14
- æ£€æŸ¥ npm ä¾èµ–æ˜¯å¦å®Œæ•´å®‰è£…
- ç¡®è®¤å¾®ä¿¡å¼€å‘è€…å·¥å…·ç‰ˆæœ¬å…¼å®¹

### 2. ä»£ç è§„èŒƒé—®é¢˜
- è¿è¡Œ `npm run lint:fix` è‡ªåŠ¨ä¿®å¤
- æ£€æŸ¥ ESLint é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ä»£ç ç¬¦åˆå°ç¨‹åºè§„èŒƒ

### 3. è°ƒè¯•é—®é¢˜
- æ¸…é™¤å¾®ä¿¡å¼€å‘è€…å·¥å…·ç¼“å­˜
- æ£€æŸ¥çœŸæœºç½‘ç»œç¯å¢ƒ
- ç¡®è®¤ AppID å’Œæƒé™é…ç½®

## æ‰©å±•èµ„æº

- [å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [å°ç¨‹åºäº‘å¼€å‘æŒ‡å—](https://developers.weixin.qq.com/miniprogram/dev/cloud/)
- [JavaScript ç°ä»£è¯­æ³•æŒ‡å—](https://es6.ruanyifeng.com/)
- [ESLint é…ç½®æŒ‡å—](https://eslint.org/docs/user-guide/configuring)

---

**æç¤º**: è¿™ä¸ªæ¨¡æ¿å·²ç»ä¸ºä½ é…ç½®å¥½äº†æœ€ä½³çš„å¼€å‘ç¯å¢ƒï¼Œå¼€å§‹ç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ªé¡µé¢å§ï¼
