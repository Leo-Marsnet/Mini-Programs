(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[8],{76:function(e,c,n){},79:function(e,c,n){"use strict";n.r(c);var t=n(1),s=n(4),a=n(9),i=n(13),l=n(5),r=n(3),o=n(6),u=n.n(o),j=n(16),b=n(23),d=n(22),O=(n(76),n(2)),m=function(){var e,c=Object(b["c"])("Index"),n=c.recordInteraction,t=c.recordError,o=Object(b["a"])(),m=o.userInfo,f=o.hasLogin,h=o.login,x=o.logout,g=o.silentLogin,N=o.checkAndSyncLogin,w=(o.isLogging,o.isLoggingOut,o.navigateToProfile),p=Object(d["e"])(),k=p.setSystemInfo,v=Object(d["f"])(),C=Object(l["useState"])("\u6b22\u8fce\u4f7f\u7528\u5c0f\u7a0b\u5e8f\u6a21\u677f"),S=Object(i["a"])(C,2),T=S[0],I=S[1],y=Object(l["useState"])(""),P=Object(i["a"])(y,2),L=P[0],D=P[1],_=Object(l["useState"])(null),B=Object(i["a"])(_,2),R=(B[0],B[1]),A=Object(l["useCallback"])((function(){var e=u.a.getSystemInfoSync();k(e),E(),N(),g()}),[k,N,g]),E=Object(l["useCallback"])((function(){var e=(new Date).getHours(),c="\u6b22\u8fce\u4f7f\u7528\u5c0f\u7a0b\u5e8f\u6a21\u677f";c=e<6?"\u591c\u6df1\u4e86\uff0c\u6ce8\u610f\u4f11\u606f":e<12?"\u65e9\u4e0a\u597d\uff01":e<18?"\u4e0b\u5348\u597d\uff01":"\u665a\u4e0a\u597d\uff01",I(c)}),[]),U=Object(b["b"])({loadingText:"\u5237\u65b0\u4e2d...",successText:"\u5237\u65b0\u6210\u529f",errorText:"\u5237\u65b0\u5931\u8d25"}),J=(U.isLoading,U.execute),M=Object(l["useCallback"])(Object(a["a"])(Object(s["a"])().m((function e(){return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,J(Object(a["a"])(Object(s["a"])().m((function e(){return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,new Promise((function(e){return setTimeout(e,1e3)}));case 1:E();case 2:return e.a(2)}}),e)}))));case 1:return e.a(2)}}),e)}))),[J,E]),H=Object(l["useCallback"])(Object(a["a"])(Object(s["a"])().m((function e(){var c;return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return e.p=0,n("login_attempt"),e.n=1,h();case 1:n("login_success"),e.n=3;break;case 2:e.p=2,c=e.v,console.error("\u767b\u5f55\u64cd\u4f5c\u5931\u8d25:",c),t(c);case 3:return e.a(2)}}),e,null,[[0,2]])}))),[h,n,t]),q=Object(l["useCallback"])(Object(a["a"])(Object(s["a"])().m((function e(){var c;return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return e.p=0,n("logout_attempt"),e.n=1,x();case 1:n("logout_success"),e.n=3;break;case 2:e.p=2,c=e.v,console.error("\u9000\u51fa\u767b\u5f55\u64cd\u4f5c\u5931\u8d25:",c),t(c);case 3:return e.a(2)}}),e,null,[[0,2]])}))),[x,n,t]),z=Object(l["useCallback"])((function(){w()}),[w]),F=Object(b["b"])({loadingText:"\u8bf7\u6c42\u4e2d...",successText:"\u8bf7\u6c42\u6210\u529f",errorText:"\u8bf7\u6c42\u5931\u8d25"}),G=(F.isLoading,F.execute),K=Object(l["useCallback"])(Object(a["a"])(Object(s["a"])().m((function e(){return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return n("api_test_click"),e.n=1,G(Object(a["a"])(Object(s["a"])().m((function e(){return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,new Promise((function(e){return setTimeout(e,500)}));case 1:return e.a(2)}}),e)}))));case 1:return e.a(2)}}),e)}))),[G,n]),Q=Object(l["useCallback"])(Object(a["a"])(Object(s["a"])().m((function e(){return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return console.log("Index page onPullDownRefresh"),e.p=1,e.n=2,M();case 2:return e.p=2,u.a.stopPullDownRefresh(),e.f(2);case 3:return e.a(2)}}),e,null,[[1,,2,3]])}))),[M]),V=Object(l["useCallback"])((function(){return{title:"\u63a8\u8350\u4e00\u4e2a\u597d\u7528\u7684\u5c0f\u7a0b\u5e8f",path:"/pages/index/index",imageUrl:"/assets/images/share-default.png"}}),[]),W=Object(l["useCallback"])((function(){return{title:"\u63a8\u8350\u4e00\u4e2a\u597d\u7528\u7684\u5c0f\u7a0b\u5e8f",imageUrl:"/assets/images/share-default.png"}}),[]);return Object(l["useEffect"])((function(){console.log("Index page onLoad"),A();var e=setInterval((function(){D((new Date).toLocaleTimeString())}),1e3);return R(e),function(){console.log("Index page onUnload"),e&&clearInterval(e)}}),[A]),Object(l["useEffect"])((function(){console.log("Index page onShow"),M()}),[M]),u.a.usePullDownRefresh(Q),u.a.useShareAppMessage(V),u.a.useShareTimeline(W),Object(O["jsxs"])(r["e"],{className:"index-container",children:[Object(O["jsxs"])(r["e"],{className:"header-section",children:[Object(O["jsx"])(r["d"],{className:"greeting",children:T}),Object(O["jsx"])(r["d"],{className:"current-time",children:L})]}),Object(O["jsx"])(r["e"],{className:"user-section",children:f&&m?Object(O["jsxs"])(r["e"],{className:"user-info",children:[Object(O["jsx"])(r["e"],{className:"user-avatar",onClick:z,children:m.avatar?Object(O["jsx"])(r["b"],{src:m.avatar,className:"avatar-image"}):Object(O["jsx"])(r["e"],{className:"default-avatar",children:Object(O["jsx"])(r["d"],{children:(null===(e=m.nickname)||void 0===e?void 0:e[0])||"\u7528"})})}),Object(O["jsxs"])(r["e"],{className:"user-details",children:[Object(O["jsx"])(r["d"],{className:"user-name",children:m.nickname||"\u7528\u6237"}),Object(O["jsx"])(r["d"],{className:"user-desc",children:"\u70b9\u51fb\u5934\u50cf\u67e5\u770b\u8d44\u6599"})]}),Object(O["jsx"])(r["a"],{className:"logout-btn",onClick:q,children:"\u9000\u51fa\u767b\u5f55"})]}):Object(O["jsxs"])(r["e"],{className:"login-section",children:[Object(O["jsx"])(r["d"],{className:"login-tip",children:"\u8bf7\u5148\u767b\u5f55\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u4f53\u9a8c"}),Object(O["jsx"])(r["a"],{className:"login-btn",onClick:H,children:"\u7acb\u5373\u767b\u5f55"})]})}),Object(O["jsxs"])(r["e"],{className:"function-section",children:[Object(O["jsx"])(r["e"],{className:"function-title",children:Object(O["jsx"])(r["d"],{children:"\u529f\u80fd\u6f14\u793a"})}),Object(O["jsxs"])(r["e"],{className:"function-grid",children:[Object(O["jsxs"])(r["e"],{className:"function-item",onClick:K,children:[Object(O["jsx"])(r["d"],{className:"function-name",children:"API\u6d4b\u8bd5"}),Object(O["jsx"])(r["d"],{className:"function-desc",children:"\u6d4b\u8bd5\u7f51\u7edc\u8bf7\u6c42"})]}),Object(O["jsxs"])(r["e"],{className:"function-item",onClick:M,children:[Object(O["jsx"])(r["d"],{className:"function-name",children:"\u5237\u65b0\u6570\u636e"}),Object(O["jsx"])(r["d"],{className:"function-desc",children:"\u624b\u52a8\u5237\u65b0\u9875\u9762"})]}),Object(O["jsxs"])(r["e"],{className:"function-item",onClick:function(){return j["d"].confirm("\u8fd9\u662f\u4e00\u4e2a\u786e\u8ba4\u5bf9\u8bdd\u6846")},children:[Object(O["jsx"])(r["d"],{className:"function-name",children:"\u5bf9\u8bdd\u6846"}),Object(O["jsx"])(r["d"],{className:"function-desc",children:"\u663e\u793a\u786e\u8ba4\u6846"})]}),Object(O["jsxs"])(r["e"],{className:"function-item",onClick:function(){j["g"].set("test",{value:"\u6d4b\u8bd5\u6570\u636e",timestamp:Date.now()}),j["d"].showSuccess("\u6570\u636e\u5df2\u4fdd\u5b58")},children:[Object(O["jsx"])(r["d"],{className:"function-name",children:"\u672c\u5730\u5b58\u50a8"}),Object(O["jsx"])(r["d"],{className:"function-desc",children:"\u6d4b\u8bd5\u5b58\u50a8\u529f\u80fd"})]})]})]}),v&&Object(O["jsxs"])(r["e"],{className:"system-section",children:[Object(O["jsx"])(r["e"],{className:"system-title",children:Object(O["jsx"])(r["d"],{children:"\u7cfb\u7edf\u4fe1\u606f"})}),Object(O["jsxs"])(r["e"],{className:"system-info",children:[Object(O["jsxs"])(r["d"],{className:"info-item",children:["\u8bbe\u5907\u54c1\u724c: ",v.brand]}),Object(O["jsxs"])(r["d"],{className:"info-item",children:["\u8bbe\u5907\u578b\u53f7: ",v.model]}),Object(O["jsxs"])(r["d"],{className:"info-item",children:["\u7cfb\u7edf\u7248\u672c: ",v.system]}),Object(O["jsxs"])(r["d"],{className:"info-item",children:["\u5fae\u4fe1\u7248\u672c: ",v.version]})]})]})]})},f=m,h={navigationBarTitleText:"\u5c0f\u7a0b\u5e8f\u9996\u9875",navigationBarBackgroundColor:"#ffffff",navigationBarTextStyle:"black",backgroundColor:"#f5f5f5",backgroundTextStyle:"light",enablePullDownRefresh:!0,onReachBottomDistance:50,disableScroll:!1};f.enableShareTimeline=!0,f.enableShareAppMessage=!0;Page(Object(t["createPageConfig"])(f,"pages/index/index",{root:{cn:[]}},h||{})),c["default"]=f}},[[79,0,3,2,1]]]);